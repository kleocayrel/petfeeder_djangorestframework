{% extends 'app/base.html' %}

{% block title %}Feeding History{% endblock %}

{% block content %}
<div class="date-display">
    <h3>Current Date and Time:</h3>
    <p id="current-datetime"></p>
</div>

<h2>Feeding History</h2>

<div class="history-container">
    <table class="history-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Time</th>
                <th>Portion Size</th>
                <th>Type</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in history %}
            <tr>
                <td>{{ entry.date }}</td>
                <td>{{ entry.time }}</td>
                <td>{{ entry.portion }} portion(s)</td>
                <td>{{ entry.type }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4">No feeding history available yet.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script>
    // Display current date and time
    function updateDateTime() {
        const now = new Date();
        document.getElementById('current-datetime').textContent = now.toLocaleString();
    }
    
    // Update date/time every second
    updateDateTime();
    setInterval(updateDateTime, 1000);
</script>

<style>
    .date-display {
        background-color: #f8f9fa;
        padding: 10px;
        border-radius: 5px;
        margin-bottom: 20px;
        text-align: center;
    }
    
    .history-container {
        margin-top: 20px;
    }
    
    .history-table {
        width: 100%;
        border-collapse: collapse;
    }
    
    .history-table th, .history-table td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }
    
    .history-table th {
        background-color: #4CAF50;
        color: white;
    }
    
    .history-table tr:nth-child(even) {
        background-color: #f2f2f2;
    }
    
    .history-table tr:hover {
        background-color: #ddd;
    }
</style>
{% endblock %}